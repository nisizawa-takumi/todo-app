GitHub Copilot
両者の違いは「どのタイミングで」「どの層（イメージ or コンテナ）」にパッケージがインストールされるか、です。

1. Dockerfile でイメージビルド時にインストール
   タイミング: docker build 時（イメージ作成時）にパッケージがインストールされる
   インストール先: 作成される Docker イメージの中
   メリット:
   どのコンテナでも、イメージから起動すれば最初からパッケージが入っている
   再起動や exec で入っても常に使える
   ビルドキャッシュが効くので、起動が速い
   デメリット:
   依存パッケージを変えたら再ビルドが必要
2. docker-compose.yml の command でインストール
   タイミング: コンテナ起動時（docker compose up 時）に毎回コマンドでインストール
   インストール先: 起動したそのコンテナの一時的なファイルシステム
   メリット:
   依存パッケージをすぐに変えられる（ビルド不要）
   デメリット:
   毎回インストールが走るので起動が遅い
   exec で新しいシェルを開くとパッケージが使えない場合がある（プロセスごとに環境が違うため）
   再起動時にパッケージが消えることもある
   結論
   本番や開発で安定して使いたい場合は Dockerfile でイメージビルド時にインストールが推奨です。
   一時的な検証や素早い試行錯誤なら command でのインストールも可ですが、安定性・再現性は低いです。
   「イメージに焼き込む」＝どこから起動しても同じ環境
   「command で都度インストール」＝その場限りの環境

この違いです。
